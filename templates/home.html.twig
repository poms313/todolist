{% extends 'base.html.twig' %}

{% block body %}

<div class="margin padding border-grey align-center">
    <h1 class="typewriter">To Do List</h1>
    <h2>Votre gestionnaire de tâches</h2>
    <h3>Totalement Gratuit et sans publicités!</h3>
    <h4>Vous choissisez le nombre de mails de rappels de que vous voulez recevoir pour chaque tâches</h4>
</div>

<div class="padding border-grey align-center">
<div class="margin ">
    <h2>Facile de s'inscrire</h2>
    <p>Vous pouvez créer un compte en moins d'une minute et l'utiliser immédiatement</p>
    <h2>Facile d'utilisation</h2>
    <p>Il suffit de créer une nouvelle tâche et nous vous enverons un mail de rappel automatiquement</p>
    <h2>Facile à gérer</h2>
    <p>Vous pouvez voir ce que vous avez à faire sous forme de liste ou de calendrier</p>
    <h2>Facile de rien oublier</h2>
    <p>Tous les jours, vous recevez la liste des tâches à faire le jour même ou périmées</p>
</div>

    <div class="container">
        <div id="myCarousel" class="carousel slide" data-ride="carousel">
            <!-- Indicators -->
            <ol class="carousel-indicators">
                <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                <li data-target="#myCarousel" data-slide-to="1"></li>
                <li data-target="#myCarousel" data-slide-to="2"></li>
            </ol>

            <!-- Wrapper for slides -->
            <div class="carousel-inner">
                <div class="item active">
                    <img src="{{ absolute_url(asset('images/slideTasks.png')) }}"
                        alt="capture legende du code couleur des tâches">
                </div>

                <div class="item">
                    <img src="{{ absolute_url(asset('images/slideCalendar.png')) }}" alt="capture vue du calendrier">
                </div>

                <div class="item">
                    <img src="{{ absolute_url(asset('images/slideListTasks.png')) }}"
                        alt="capture de la liste des tâches">
                </div>
            </div>

            <!-- Left and right controls -->
            <a class="left carousel-control" href="#myCarousel" data-slide="prev">
                <span class="glyphicon glyphicon-chevron-left"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="right carousel-control" href="#myCarousel" data-slide="next">
                <span class="glyphicon glyphicon-chevron-right"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
    </div>
</div>

<div class="margin padding border-grey align-center">
    <h2>Inscrivez vous et testez gratuitement notre application</h2>
    <div class="margin">
        <a class="button block" href="{{ path('register') }}">Inscription</a>
    </div>
</div>

<div class="border-grey margin padding align-center">
    <p id="getCounts"></p>
</div>

<script>
    // get conts number of users and count all tasks
    var xmlhttp = new XMLHttpRequest();
    xmlhttp.onreadystatechange = function () {
        if (this.readyState == 4 && this.status == 200) {
            counts = JSON.parse(this.responseText);
            document.getElementById("getCounts").innerHTML = "<h3>Actuellement il y a " + counts[1] +
                " utilisateurs qui nous font confiance✅</h3><h4>Et " + counts[0] +
                " tâches en cours sur le site.</h4>";
        }
    };
    xmlhttp.open("GET", "http://pommine-fillatre.com/membres/ReturnCounts", true);
    xmlhttp.send();
</script>

{% endblock %}